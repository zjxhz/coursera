clear ; close all; clc;houses = load('houses_ft-hg.txt');X = houses(:,1);y = houses(:,2);m = length(y);degree = 8;for i=2:degree  X = [X (houses(:,1) .^ i)];endX = [ones(m,1) X];%X = [ones(m,1) X];sampleSize = 100;randomIndexes = 1:m;%randperm(m);indexesTrain = randomIndexes(1:sampleSize);X_train = X(indexesTrain,:);y_train = y(indexesTrain,:);theta = normalEqn(X_train,y_train);cost = computeCost(X_train, y_train, theta);%printf("Theta = [%.3f;%.3f], cost = %.3f\n", theta, cost);%printf("Theta = [%.3f;%.3f;%.3f], cost = %.3f\n", theta, cost);printf("Cost = %.3f\n", cost);testSize = 3;for i = 1:testSize  testIndex = sampleSize + i;  X_test = X(testIndex, :);  y_test = y(testIndex, :);  diff  = abs(X_test * theta - y_test);  printf('Test %d - size: %.0f,actual price: %.0f, predicted price: %.0f, diff: %.0f, diff rate: %.1f%%\n', ...   i, X_test(:,2), y_test, X_test * theta, diff, diff * 100/y_test);endx = X_train(:,2);plot(x, y_train, 'rx');hold on;xx = linspace(min(x),max(x),200)';xx0 = xx;for i=2:degree  xx = [xx (xx0 .^ i)];endxx = [ones(200,1) xx];plot(xx0, xx * theta);